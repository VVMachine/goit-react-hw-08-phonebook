(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{14:function(t,e,n){"use strict";var r=n(2),c=Object(r.b)("contact/addRequest"),a=Object(r.b)("contact/addSuccess"),o=Object(r.b)("contact/addError"),u=Object(r.b)("contact/removeRequest"),s=Object(r.b)("contact/removeSuccess"),i=Object(r.b)("contact/removeError"),l=Object(r.b)("contact/fetchRequest"),b=Object(r.b)("contact/fetchSuccess"),f=Object(r.b)("contact/fetchError"),g=Object(r.b)("contact/listRefresh"),h=Object(r.b)("contact/filter");e.a={filter:h,addContactRequest:c,addContactSuccess:a,addContactError:o,removeContactRequest:u,removeContactSuccess:s,removeContactError:i,fetchContactRequest:l,fetchContactSuccess:b,fetchContactError:f,contactListRefresh:g}},21:function(t,e,n){"use strict";var r=n(15),c=n.n(r),a=n(3),o=n(14);c.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var u=function(t){c.a.defaults.headers.common.Authorization="Bearer ".concat(t)},s=function(){c.a.defaults.headers.common.Authorization=""};e.a={register:function(t){return function(e){e(a.a.registerRequest()),c.a.post("/users/signup",t).then((function(t){u(t.data.token),e(a.a.registerSuccess(t.data))})).catch((function(t){return e(a.a.registerError(t))}))}},logIn:function(t){return function(e){e(a.a.loginRequest()),c.a.post("/users/login",t).then((function(t){u(t.data.token),e(a.a.loginSuccess(t.data))})).catch((function(t){return e(a.a.loginError(t))}))}},logOut:function(){return function(t){t(a.a.logoutRequest()),c.a.post("/users/logout").then((function(){s(),t(a.a.logoutSuccess()),t(o.a.contactListRefresh())})).catch((function(e){return t(a.a.logoutError(e))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(u(n),t(a.a.getCurrentUserRequest()),c.a.get("/users/current").then((function(e){var n=e.data;return t(a.a.getCurrentUserSuccess(n))})).catch((function(t){return a.a.getCurrentUserError(t)})))}}}},24:function(t,e,n){t.exports={container:"UserMenu_container__1gHxW",button:"UserMenu_button__3hv_N",welcomeTitle:"UserMenu_welcomeTitle__2l51m"}},3:function(t,e,n){"use strict";var r=n(2),c=Object(r.b)("auth/registerRequest"),a=Object(r.b)("auth/registerSuccess"),o=Object(r.b)("auth/registerError"),u=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),i=Object(r.b)("auth/loginError"),l=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),f=Object(r.b)("auth/logoutError"),g=Object(r.b)("auth/getCurrentUserRequest"),h=Object(r.b)("auth/getCurrentUserSuccess"),d=Object(r.b)("auth/getCurrentUserError");e.a={registerRequest:c,registerSuccess:a,registerError:o,logoutRequest:l,logoutSuccess:b,logoutError:f,loginRequest:u,loginSuccess:s,loginError:i,getCurrentUserRequest:g,getCurrentUserSuccess:h,getCurrentUserError:d}},48:function(t,e,n){t.exports={container:"App_container__3Jx6P",link:"App_link__2BfWt"}},53:function(t,e,n){t.exports=n(83)},83:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(20),o=n.n(a),u=n(32),s=n(33),i=n(35),l=n(34),b=n(12),f=n(4),g=function(t){return t.auth.token},h=function(t){return t.auth.user.name},d=n(21),p=n(24),O=n.n(p);var j,m,E,v,C=Object(b.b)((function(t){return{name:h(t)}}),{onLogout:d.a.logOut})((function(t){var e=t.onLogout,n=t.name;return c.a.createElement("div",{className:O.a.container},c.a.createElement("span",{className:O.a.welcomeTitle},"Welcome, ",n),c.a.createElement("button",{type:"button",onClick:e,className:O.a.button},"Logout"))})),S=n(23),y=Object(b.b)((function(t){return{isAuthenticated:g(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=Object(S.a)(t,["component","isAuthenticated"]);return c.a.createElement(f.b,Object.assign({},r,{render:function(t){return n?c.a.createElement(e,t):c.a.createElement(f.a,{to:"/"})}}))})),k=Object(b.b)((function(t){return{isAuthenticated:g(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=Object(S.a)(t,["component","isAuthenticated"]);return c.a.createElement(f.b,Object.assign({},r,{render:function(t){return n&&r.restricted?c.a.createElement(f.a,{to:"/contacts"}):c.a.createElement(e,t)}}))})),R=n(47),U=n(49),q=n(16),_=[{path:"/",label:"Home",exact:!0,component:Object(r.lazy)((function(){return n.e(6).then(n.bind(null,100))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(r.lazy)((function(){return n.e(5).then(n.bind(null,101))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(r.lazy)((function(){return n.e(4).then(n.bind(null,102))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(7),n.e(3)]).then(n.bind(null,103))})),private:!0,restricted:!1}],A=n(48),x=n.n(A),L=function(t){Object(i.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:x.a.container},!this.props.isAuthenticated&&c.a.createElement(q.b,{to:"/",exact:!0,className:"linkHome"},c.a.createElement(R.a,{icon:U.a,size:"3x",color:"#304a63"})),this.props.isAuthenticated&&c.a.createElement(C,null),c.a.createElement(r.Suspense,{fallback:"Loading........."},c.a.createElement(f.d,null,_.map((function(t){return t.private?c.a.createElement(y,Object.assign({key:t.label},t)):c.a.createElement(k,Object.assign({key:t.label},t))}))))))}}]),n}(r.Component),w=Object(b.b)((function(t){return{isAuthenticated:g(t)}}),{onGetCurrentUser:d.a.getCurrentUser})(L),z=n(50),N=n(2),M=n(31),B=n(51),H=n.n(B),J=n(7),T=n(52),W=n(5),G=n(14),I=Object(N.c)([],(j={},Object(J.a)(j,G.a.addContactSuccess,(function(t,e){return[e.payload].concat(Object(T.a)(t))})),Object(J.a)(j,G.a.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Object(J.a)(j,G.a.fetchContactSuccess,(function(t,e){return e.payload})),Object(J.a)(j,G.a.contactListRefresh,(function(){return[]})),j)),P=Object(N.c)("",Object(J.a)({},G.a.filter,(function(t,e){return e.payload}))),D=Object(W.c)({items:I,filter:P}),F=n(3),K={name:null,email:null},Q=Object(N.c)(K,(m={},Object(J.a)(m,F.a.registerSuccess,(function(t,e){return e.payload.user})),Object(J.a)(m,F.a.loginSuccess,(function(t,e){return e.payload.user})),Object(J.a)(m,F.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(J.a)(m,F.a.logoutSuccess,(function(){return K})),m)),V=Object(N.c)(null,(E={},Object(J.a)(E,F.a.registerSuccess,(function(t,e){return e.payload.token})),Object(J.a)(E,F.a.loginSuccess,(function(t,e){return e.payload.token})),Object(J.a)(E,F.a.logoutSuccess,(function(){return null})),E)),X=Object(N.c)(null,(v={},Object(J.a)(v,F.a.registerError,(function(t,e){return e.payload})),Object(J.a)(v,F.a.loginError,(function(t,e){return e.payload})),Object(J.a)(v,F.a.logoutError,(function(t,e){return e.payload})),Object(J.a)(v,F.a.getCurrentUserError,(function(t,e){return e.payload})),v)),Y=Object(W.c)({user:Q,token:V,error:X}),Z={key:"auth",storage:H.a,whitelist:["token"]},$=Object(N.a)({reducer:{contacts:D,auth:Object(M.a)(Z,Y)}}),tt=Object(M.b)($);o.a.render(c.a.createElement(q.a,null,c.a.createElement(b.a,{store:$},c.a.createElement(z.a,{loading:null,persistor:tt},c.a.createElement(w,null)))),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.bffadcbf.chunk.js.map